% Created 2019-11-26 Tue 08:10
% Intended LaTeX compiler: pdflatex
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\author{Jimmy Z}
\date{\today}
\title{}
\hypersetup{
 pdfauthor={Jimmy Z},
 pdftitle={},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 26.1 (Org mode 9.2.6)}, 
 pdflang={English}}
\begin{document}

\tableofcontents

\section{API Documentation}
\label{sec:orgf1d93eb}
For each API, we use POST to deliver form data, and use json for passing of
data structures. The response is a json string.
\subsection{User}
\label{sec:org3a1d720}
\subsubsection{Register}
\label{sec:orgbf32299}
POST /api/auth/register
\begin{enumerate}
\item Form data
\label{sec:org8852a24}
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
username & string & The username of the user\\
password & string & The password of the user (or hash of the password)\\
\end{tabular}
\end{center}
\item Response
\label{sec:org123a97a}
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
success & bool & Whether the register is success\\
uuid & string & The uuid of the user (only when success)\\
reason & string & Human readable reason of failure (when fail)\\
\end{tabular}
\end{center}
\end{enumerate}
\subsubsection{Login}
\label{sec:org477a42b}
POST /api/auth/login
\begin{enumerate}
\item Form data
\label{sec:org62ed299}
See POST /api/auth/register
\item Response
\label{sec:org5c2d377}
400 error when the username and/or password is not valid.
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
uuid & string & The uuid of the user\\
expires & float & The timestamp when the session expires\\
token & string & The token of the session\\
\end{tabular}
\end{center}
\end{enumerate}
\subsection{Model}
\label{sec:org1e08338}
\subsubsection{Parameters}
\label{sec:org08a734b}
\begin{enumerate}
\item Change
\label{sec:org207bd47}
POST /api/model/params
\begin{enumerate}
\item Form data
\label{sec:orgbcf20a3}
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
learning\_rate & float & The target learning rate\\
\end{tabular}
\end{center}
\item Response
\label{sec:org39cd272}
See GET /api/model/params
\end{enumerate}

\item Get
\label{sec:org763c23c}
GET /api/model/params
\begin{enumerate}
\item Response
\label{sec:org682b186}
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
learning\_rate & float & The changed (POST) or original (GET) learning rate\\
\end{tabular}
\end{center}
\end{enumerate}
\end{enumerate}
\subsubsection{Forward}
\label{sec:org979a01e}
POST /api/model/forward
\begin{enumerate}
\item Form data
\label{sec:orgfb92061}
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
x & int[] & The input data\\
\end{tabular}
\end{center}
\item Response
\label{sec:org7249e48}
See GET /api/model/output
\end{enumerate}
\subsubsection{Backward}
\label{sec:org7650fcb}
GET /api/model/backward
\begin{enumerate}
\item Response
\label{sec:orga3d67dc}
See GET /api/model/output
\end{enumerate}
\subsubsection{Output}
\label{sec:orgf4739aa}
GET /api/model/output
\begin{enumerate}
\item Response
\label{sec:orgcb51652}
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
A & int & The output data\\
\end{tabular}
\end{center}
\end{enumerate}
\subsubsection{Optimize}
\label{sec:orgdb45025}
GET /api/model/optimize
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
dW & int[][] & The gradient of W\\
dB & int & The gradient of B\\
\end{tabular}
\end{center}
\subsubsection{Model}
\label{sec:org66ca10e}
GET /api/model/model
\begin{enumerate}
\item Response
\label{sec:org959579a}
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
W & int[][] & The weights matrix\\
B & int & The bias\\
\end{tabular}
\end{center}
\end{enumerate}
\end{document}