% Created 2019-11-26 Tue 08:14
% Intended LaTeX compiler: pdflatex
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\author{Jimmy Z}
\date{\today}
\title{}
\hypersetup{
 pdfauthor={Jimmy Z},
 pdftitle={},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 26.1 (Org mode 9.2.6)}, 
 pdflang={English}}
\begin{document}

\tableofcontents

\section{API Documentation}
\label{sec:org7e75f92}
For each API, we use POST to deliver form data, and use json for passing of
data structures. The response is a json string.
\subsection{User}
\label{sec:org212e285}
\subsubsection{Register a new user}
\label{sec:org08d5444}
POST /api/auth/register
\begin{enumerate}
\item Form data
\label{sec:orge56f84a}
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
username & string & The username of the user\\
password & string & The password of the user (or hash of the password)\\
\end{tabular}
\end{center}
\item Response
\label{sec:org9eda3b0}
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
success & bool & Whether the register is success\\
uuid & string & The uuid of the user (only when success)\\
reason & string & Human readable reason of failure (when fail)\\
\end{tabular}
\end{center}
\end{enumerate}
\subsubsection{Login an existing user}
\label{sec:org8e0696c}
POST /api/auth/login
\begin{enumerate}
\item Form data
\label{sec:org253f954}
See POST /api/auth/register
\item Response
\label{sec:org50b6cc9}
400 error when the username and/or password is not valid.
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
uuid & string & The uuid of the user\\
expires & float & The timestamp when the session expires\\
token & string & The token of the session\\
\end{tabular}
\end{center}
\end{enumerate}
\subsection{Model}
\label{sec:org79041a1}
\subsubsection{Get or modify the parameters}
\label{sec:org806c4db}
\begin{enumerate}
\item Change
\label{sec:org49c27e7}
POST /api/model/params
\begin{enumerate}
\item Form data
\label{sec:org5265526}
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
learning\_rate & float & The target learning rate\\
\end{tabular}
\end{center}
\item Response
\label{sec:orgc14215a}
See GET /api/model/params
\end{enumerate}

\item Get
\label{sec:orgc377ffd}
GET /api/model/params
\begin{enumerate}
\item Response
\label{sec:org4ca6f7d}
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
learning\_rate & float & The changed (POST) or original (GET) learning rate\\
\end{tabular}
\end{center}
\end{enumerate}
\end{enumerate}
\subsubsection{Forward the model}
\label{sec:orgcf08aeb}
POST /api/model/forward
\begin{enumerate}
\item Form data
\label{sec:orgc49db25}
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
x & int[] & The input data\\
\end{tabular}
\end{center}
\item Response
\label{sec:orga87a324}
See GET /api/model/output
\end{enumerate}
\subsubsection{Backward the model}
\label{sec:org37d6cdd}
GET /api/model/backward
\begin{enumerate}
\item Response
\label{sec:orgb191206}
See GET /api/model/output
\end{enumerate}
\subsubsection{Get the output of the model}
\label{sec:orgcd52544}
GET /api/model/output
\begin{enumerate}
\item Response
\label{sec:org509b09b}
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
A & int & The output data\\
\end{tabular}
\end{center}
\end{enumerate}
\subsubsection{Optimize the model}
\label{sec:org4572f28}
GET /api/model/optimize
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
dW & int[][] & The gradient of W\\
dB & int & The gradient of B\\
\end{tabular}
\end{center}
\subsubsection{Get the model}
\label{sec:org27d0729}
GET /api/model/model
\begin{enumerate}
\item Response
\label{sec:org5e5420a}
\begin{center}
\begin{tabular}{lll}
Name & Format & Description\\
\hline
W & int[][] & The weights matrix\\
B & int & The bias\\
\end{tabular}
\end{center}
\end{enumerate}
\end{document}